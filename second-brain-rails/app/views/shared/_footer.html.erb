<footer class="footer">
  <div class="footer-content">
    <div class="shortcuts">
      <% if controller_name == 'notes' && action_name == 'index' %>
        <div class="shortcut">
          <span class="kbd">/</span>
          <span>Search</span>
        </div>
      <% end %>
      
      <div class="shortcut">
        <span class="kbd">n</span>
        <span>New Note</span>
      </div>
      
      <% if controller_name == 'notes' && action_name == 'index' %>
        <div class="shortcut">
          <span class="kbd">ESC</span>
          <span>Clear</span>
        </div>
      <% end %>
      
      <div class="shortcut">
        <span class="kbd">?</span>
        <span>Help</span>
      </div>
    </div>
    <p class="text-subtle" style="font-size: 0.85rem;">
      Second Brain · Think Clearly
    </p>
  </div>
</footer>

<!-- Keyboard shortcuts -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Show help modal
    function showHelp() {
      const help = document.createElement('div');
      help.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: var(--color-bg-elevated);
        padding: 2rem;
        border-radius: 12px;
        box-shadow: var(--shadow-lg);
        z-index: 10000;
        min-width: 300px;
        border: 1px solid var(--color-border);
      `;
      help.innerHTML = `
        <h3 style="margin-bottom: 1rem; color: var(--color-text);">⌨️ Keyboard Shortcuts</h3>
        <div style="display: grid; gap: 0.75rem;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="color: var(--color-text);">Search notes</span>
            <span class="kbd">/</span>
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="color: var(--color-text);">New note</span>
            <span class="kbd">n</span>
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="color: var(--color-text);">Clear search</span>
            <span class="kbd">ESC</span>
          </div>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="color: var(--color-text);">Show this help</span>
            <span class="kbd">?</span>
          </div>
        </div>
        <button onclick="this.parentElement.remove(); document.querySelector('.help-backdrop').remove();" 
                style="margin-top: 1.5rem; width: 100%; padding: 0.75rem; background: var(--color-primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">
          Got it!
        </button>
      `;
      
      // Add backdrop
      const backdrop = document.createElement('div');
      backdrop.className = 'help-backdrop';
      backdrop.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        z-index: 9999;
        animation: fadeIn 0.2s ease;
      `;
      backdrop.onclick = function() {
        backdrop.remove();
        help.remove();
      };
      
      document.body.appendChild(backdrop);
      document.body.appendChild(help);
    }
    
    document.addEventListener('keydown', function(e) {
      const activeElement = document.activeElement;
      const isInputField = activeElement.tagName === 'INPUT' || 
                          activeElement.tagName === 'TEXTAREA' || 
                          activeElement.isContentEditable;
      
      // ? = Show help
      if (e.key === '?' && !isInputField) {
        e.preventDefault();
        showHelp();
      }
      
      // / = Focus search
      if (e.key === '/' && !isInputField) {
        e.preventDefault();
        const searchInput = document.querySelector('input[name="search"]');
        if (searchInput) {
          searchInput.focus();
        }
      }
      
      // n = New note
      if (e.key === 'n' && !isInputField) {
        e.preventDefault();
        window.location.href = '/notes/new';
      }
      
      // Escape = Clear search or blur
      if (e.key === 'Escape') {
        if (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA') {
          activeElement.blur();
        }
        const searchInput = document.querySelector('input[name="search"]');
        if (searchInput && searchInput.value) {
          searchInput.value = '';
          window.location.href = '/notes';
        }
      }
    });
  });
</script>

<style>
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
</style>
